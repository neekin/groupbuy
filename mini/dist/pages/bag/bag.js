(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[128],{135:function(e,t,a){},242:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(6),r=a(0),o=a.n(r),l=a(2),i=a.n(l),u=a(1),s=a(59),m=a.n(s),d=a(36),p=a(46),b=a(45),f=a(19),g=(a(135),a(47));function v(e){var t=e.data,a=e.removeProdct,n=e.updateProdct,c=function(e){n(t.product_id,t.spec_id,e.detail)};return o.a.createElement(u["f"],{className:"product-card"},o.a.createElement("van-card",{price:t.spec_price,title:t.product_title,thumb:t.product_thumb,thumbMode:"aspectFill",thumbLink:"/pages/detail/detail?id=".concat(t.product_id)},o.a.createElement(u["b"],{name:"num"},o.a.createElement(u["f"],{className:"stepper"},o.a.createElement("van-stepper",{value:t.num,onChange:c}),o.a.createElement("van-button",{icon:"delete",onClick:function(){a(t.product_id,t.spec_id)}}))),o.a.createElement(u["b"],{name:"desc"},o.a.createElement(u["f"],{className:"tags"},o.a.createElement("van-tag",{plain:!0,color:"#0e9a9c",size:"medium"},t.spec_title)))))}function E(){var e=Object(g["a"])("bag"),t=e.data,a=Object(d["a"])(),n=Object(c["a"])(a,2),r=n[0],s=n[1],E=s.reGetBag,h=(s.addProdct,s.removeProdct),P=s.updateProdct,w=Object(p["a"])(),k=w.addConfirm;Object(l["usePullDownRefresh"])((function(){i.a.stopPullDownRefresh()}));var x=r,C=m()(x,(function(e,t){return e+t.spec_price*t.num}),0);Object(l["useDidShow"])((function(){E()}));var _=function(){k(r),i.a.navigateTo({url:"/pages/bag/confirm/confirm"})},j=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(u["f"],{className:"list"},x.map((function(e){return o.a.createElement(v,{data:e,removeProdct:h,updateProdct:P})}))),o.a.createElement(u["f"],{className:"bar-wapper"},o.a.createElement("van-submit-bar",{price:100*C,buttonText:"\u7ed3\u7b97",buttonClass:"settle",priceClass:"settle-txt",onSubmit:_})))};return o.a.createElement(u["f"],{className:"bag"},o.a.createElement("van-sticky",null,o.a.createElement(f["a"],{title:"\u8d2d\u7269\u8f66",style:{backgroundColor:"white"}})),t&&(null===t||void 0===t?void 0:t.length)>0?o.a.createElement("van-notice-bar",{"left-icon":t[0].icon,color:t[0].color,background:t[0].background,scrollable:!0,text:t[0].message,onClick:function(){t[0].needFeedback&&i.a.navigateToMiniProgram({appId:"wx8abaf00ee8c3202e",extraData:{id:"296232"}})}}):"",x.length>0?j():o.a.createElement("van-empty",{description:"\u60a8\u7684\u8d2d\u7269\u8f66\u5185\u6ca1\u6709\u5546\u54c1"},o.a.createElement("van-button",{round:!0,type:"default",className:"btn-more",onClick:function(){i.a.switchTab({url:"/pages/index/index"})}},"\u53bb\u901b\u901b")),o.a.createElement(b["a"],{active:1,info:r.length}))}var h={navigationBarTitleText:"\u8d2d\u7269\u8f66",enablePullDownRefresh:!0,usingComponents:{}};Page(Object(n["createPageConfig"])(E,"pages/bag/bag",{},h||{}))}},[[242,0,3,1,2]]]);